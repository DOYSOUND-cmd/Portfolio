/* =========================================================
   Welcome Overlay — clean, high-contrast Canon look
   ========================================================= */

#welcome{
  position: fixed; inset: 0; z-index: 9999;
  display:grid; place-items:center;
  background:
    radial-gradient(1200px 900px at 50% -20%, #ffffff18, transparent 55%),
    linear-gradient(160deg, #0f1218, #161922 55%, #0f1218);
  overflow:hidden; isolation:isolate;
  color:#f5f7fb;
  font-family: "Noto Sans JP","Noto Sans","Helvetica Neue",Arial,sans-serif;
}
#welcome.hidden{ display:none; }

/* Background canvas (confetti) */
.w-canvas{ position:absolute; inset:0; width:100%; height:100%; opacity:.18; }

/* Soft vignettes */
.w-overlay{
  position:absolute; inset:0; pointer-events:none;
  background:
    radial-gradient(900px 620px at 50% -10%, rgba(195,13,35,.14), transparent 60%),
    radial-gradient(1200px 900px at 50% 120%, rgba(0,0,0,.25), transparent 72%);
  filter: blur(.3px);
}

/* Text block */
.w-inner{
  position:relative; z-index:2;
  text-align:center;
  display:flex; flex-direction:column; align-items:center; gap: 16px;
  padding: 16px;
}
.w-title{
  margin:0; line-height: 1;
  font-weight: 900;
  letter-spacing: .18em;
  font-size: clamp(46px, 11vw, 118px);
  position: relative;
  color: #f5f7fb;
  text-shadow:
    0 10px 24px rgba(0,0,0,.55),
    0 0 0 rgba(0,0,0,0);
}

.w-char{
  display:inline-block;
  opacity:0;
  transform: translateY(18px);
  transition: opacity .35s ease, transform .35s ease;
}

.w-title.glitch{ animation: pulse 1.6s ease-in-out 2; }
@keyframes pulse{
  0%   { text-shadow: 0 10px 24px rgba(0,0,0,.55), 0 0 0 rgba(195,13,35,.0); }
  50%  { text-shadow: 0 14px 26px rgba(0,0,0,.42), 0 0 22px rgba(195,13,35,.32); }
  100% { text-shadow: 0 10px 24px rgba(0,0,0,.55), 0 0 0 rgba(195,13,35,.0); }
}

.w-sub{
  color: rgba(245,247,251,.86);
  font-weight: 700;
  letter-spacing:.08em;
  font-size: clamp(13px, 2.6vw, 18px);
  opacity:0;
  transform: translateY(10px);
}

#welcome.fade-out{ animation: w-fade .42s ease forwards; }
@keyframes w-fade { to { opacity:0; } }

@media (prefers-reduced-motion: reduce){
  .w-overlay{ animation: none; }
  .w-title.glitch{ animation: none; }
}

@supports (height: 100svh){
  #welcome{ height: 100svh; }
}
#welcome{ padding-top: max(0px, env(safe-area-inset-top)); padding-bottom: max(0px, env(safe-area-inset-bottom)); }
